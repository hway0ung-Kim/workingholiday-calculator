import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

// 언어 리소스
const resources = {
  en: {
    translation: {
      // Common
      common: {
        loading: 'Loading...',
        error: 'Error',
        success: 'Success',
        save: 'Save',
        cancel: 'Cancel',
        delete: 'Delete',
        edit: 'Edit',
        confirm: 'Confirm',
        yes: 'Yes',
        no: 'No',
        back: 'Back',
        next: 'Next',
        close: 'Close',
        search: 'Search',
        filter: 'Filter',
        sort: 'Sort',
        reset: 'Reset',
        submit: 'Submit',
        login: 'Login',
        logout: 'Logout',
        register: 'Register',
      },
      // Navigation
      nav: {
        home: 'Home',
        wageCalculator: 'Wage Calculator',
        visaCalculator: 'Visa Calculator',
        community: 'Community',
        profile: 'Profile',
        admin: 'Admin',
        settings: 'Settings',
      },
      // Home page
      home: {
        title: 'Working Holiday Mate',
        subtitle: 'Your one-stop solution for Australian Working Holiday',
        motivationalQuote: 'Every day is a new opportunity to grow!',
        quickWageCheck: 'Quick Wage Check',
        wageCalculator: 'Wage Calculator',
        visaExtension: 'Visa Extension',
        topEarners: 'Top Earners',
        features: {
          wageTitle: 'Accurate Wage Calculator',
          wageDesc: 'Calculate your wages based on Australian Fair Work standards',
          visaTitle: 'Visa Extension Tracker',
          visaDesc: 'Track your 88 days for visa extension requirements',
          communityTitle: 'Global Community',
          communityDesc: 'Connect with other working holiday makers worldwide',
        },
      },
      // Authentication
      auth: {
        signInWithGoogle: 'Sign in with Google',
        signOut: 'Sign out',
        welcome: 'Welcome',
        pleaseSignIn: 'Please sign in to continue',
        setupNickname: 'Setup Nickname',
        nicknameLabel: 'Choose your nickname',
        nicknamePlaceholder: 'Enter your nickname',
        nicknameRequired: 'Nickname is required',
        completeSetup: 'Complete Setup',
      },
      // Wage Calculator
      wage: {
        title: 'Wage Calculator',
        quickCheck: 'Quick Wage Check',
        detailedCalculation: 'Detailed Calculation',
        hourlyRate: 'Hourly Rate',
        hoursPerDay: 'Hours per Day',
        daysPerWeek: 'Days per Week',
        industry: 'Industry',
        location: 'Location (Postcode)',
        paymentDay: 'Payment Day',
        rankingConsent: 'Show in rankings',
        calculate: 'Calculate',
        grossPay: 'Gross Pay',
        netPay: 'Net Pay (After Tax)',
        weeklyGross: 'Weekly Gross',
        weeklyNet: 'Weekly Net',
        results: 'Calculation Results',
        registerForMore: 'Register for detailed tracking and management',
      },
      // Visa Calculator
      visa: {
        title: 'Visa Extension Calculator',
        daysWorked: 'Days Worked',
        remainingDays: 'Remaining Days',
        eligibleForExtension: 'Eligible for Extension',
        trackProgress: 'Track Your Progress',
        addWorkEntry: 'Add Work Entry',
        workHistory: 'Work History',
        startDate: 'Start Date',
        endDate: 'End Date',
        hoursPerWeek: 'Hours per Week',
        employer: 'Employer',
        progress: '{{completed}} / {{required}} days completed',
      },
      // Community
      community: {
        title: 'Community',
        country: 'Country',
        korea: 'Korea',
        japan: 'Japan',
        taiwan: 'Taiwan',
        createPost: 'Create Post',
        postTitle: 'Post Title',
        postContent: 'Content',
        posts: 'Posts',
        comments: 'Comments',
        likes: 'Likes',
        reply: 'Reply',
      },
      // Profile
      profile: {
        title: 'Profile',
        personalInfo: 'Personal Information',
        nickname: 'Nickname',
        country: 'Country',
        visaType: 'Visa Type',
        wageProfiles: 'Wage Profiles',
        totalEarnings: 'Total Earnings',
        privacySettings: 'Privacy Settings',
        showInRankings: 'Show in rankings',
        language: 'Language',
      },
      // Language selection
      language: {
        title: 'Language Selection',
        description: 'We detected that your browser language is {{language}}. Would you like to switch?',
        switchTo: 'Switch to {{language}}',
        keepEnglish: 'Keep English',
        english: 'English',
        korean: '한국어',
        japanese: '日本語',
      },
    },
  },
  ko: {
    translation: {
      // Common
      common: {
        loading: '로딩 중...',
        error: '오류',
        success: '성공',
        save: '저장',
        cancel: '취소',
        delete: '삭제',
        edit: '편집',
        confirm: '확인',
        yes: '예',
        no: '아니오',
        back: '뒤로',
        next: '다음',
        close: '닫기',
        search: '검색',
        filter: '필터',
        sort: '정렬',
        reset: '초기화',
        submit: '제출',
        login: '로그인',
        logout: '로그아웃',
        register: '회원가입',
      },
      // Navigation
      nav: {
        home: '홈',
        wageCalculator: '급여 계산',
        visaCalculator: '비자 계산',
        community: '커뮤니티',
        profile: '프로필',
        admin: '관리자',
        settings: '설정',
      },
      // Home page
      home: {
        title: '워홀 메이트',
        subtitle: '호주 워킹홀리데이를 위한 원스톱 솔루션',
        motivationalQuote: '매일이 성장할 수 있는 새로운 기회입니다!',
        quickWageCheck: '빠른 급여 확인',
        wageCalculator: '급여 계산기',
        visaExtension: '비자 연장',
        topEarners: '급여 랭킹',
        features: {
          wageTitle: '정확한 급여 계산기',
          wageDesc: '호주 공정근로위원회 기준으로 정확한 급여를 계산하세요',
          visaTitle: '비자 연장 추적기',
          visaDesc: '비자 연장을 위한 88일 근무를 추적하세요',
          communityTitle: '글로벌 커뮤니티',
          communityDesc: '전 세계 워킹홀리데이 메이커들과 소통하세요',
        },
      },
      // Authentication
      auth: {
        signInWithGoogle: 'Google로 로그인',
        signOut: '로그아웃',
        welcome: '환영합니다',
        pleaseSignIn: '계속하려면 로그인하세요',
        setupNickname: '닉네임 설정',
        nicknameLabel: '닉네임을 선택하세요',
        nicknamePlaceholder: '닉네임을 입력하세요',
        nicknameRequired: '닉네임이 필요합니다',
        completeSetup: '설정 완료',
      },
      // Wage Calculator
      wage: {
        title: '급여 계산기',
        quickCheck: '빠른 급여 확인',
        detailedCalculation: '상세 계산',
        hourlyRate: '시급',
        hoursPerDay: '일일 근무시간',
        daysPerWeek: '주당 근무일',
        industry: '업종',
        location: '지역 (우편번호)',
        paymentDay: '급여 지급일',
        rankingConsent: '랭킹 공개 동의',
        calculate: '계산하기',
        grossPay: '세전 급여',
        netPay: '세후 급여',
        weeklyGross: '주급 (세전)',
        weeklyNet: '주급 (세후)',
        results: '계산 결과',
        registerForMore: '자세한 추적 및 관리를 위해 회원가입하세요',
      },
      // Visa Calculator
      visa: {
        title: '비자 연장 계산기',
        daysWorked: '근무일수',
        remainingDays: '남은 일수',
        eligibleForExtension: '연장 가능',
        trackProgress: '진행상황 추적',
        addWorkEntry: '근무 기록 추가',
        workHistory: '근무 이력',
        startDate: '시작일',
        endDate: '종료일',
        hoursPerWeek: '주당 근무시간',
        employer: '고용주',
        progress: '{{completed}} / {{required}}일 완료',
      },
      // Community
      community: {
        title: '커뮤니티',
        country: '국가',
        korea: '한국',
        japan: '일본',
        taiwan: '대만',
        createPost: '게시글 작성',
        postTitle: '제목',
        postContent: '내용',
        posts: '게시글',
        comments: '댓글',
        likes: '좋아요',
        reply: '답글',
      },
      // Profile
      profile: {
        title: '프로필',
        personalInfo: '개인정보',
        nickname: '닉네임',
        country: '국가',
        visaType: '비자 유형',
        wageProfiles: '급여 프로필',
        totalEarnings: '총 수입',
        privacySettings: '개인정보 설정',
        showInRankings: '랭킹 공개',
        language: '언어',
      },
      // Language selection
      language: {
        title: '언어 선택',
        description: '브라우저 언어가 {{language}}로 감지되었습니다. 전환하시겠습니까?',
        switchTo: '{{language}}로 전환',
        keepEnglish: '영어 유지',
        english: 'English',
        korean: '한국어',
        japanese: '日本語',
      },
    },
  },
  ja: {
    translation: {
      // Common
      common: {
        loading: '読み込み中...',
        error: 'エラー',
        success: '成功',
        save: '保存',
        cancel: 'キャンセル',
        delete: '削除',
        edit: '編集',
        confirm: '確認',
        yes: 'はい',
        no: 'いいえ',
        back: '戻る',
        next: '次へ',
        close: '閉じる',
        search: '検索',
        filter: 'フィルター',
        sort: 'ソート',
        reset: 'リセット',
        submit: '送信',
        login: 'ログイン',
        logout: 'ログアウト',
        register: '登録',
      },
      // Navigation
      nav: {
        home: 'ホーム',
        wageCalculator: '給与計算',
        visaCalculator: 'ビザ計算',
        community: 'コミュニティ',
        profile: 'プロフィール',
        admin: '管理者',
        settings: '設定',
      },
      // Home page
      home: {
        title: 'ワーホリメイト',
        subtitle: 'オーストラリアワーキングホリデーのワンストップソリューション',
        motivationalQuote: '毎日が成長する新しい機会です！',
        quickWageCheck: 'クイック給与チェック',
        wageCalculator: '給与計算機',
        visaExtension: 'ビザ延長',
        topEarners: '給与ランキング',
        features: {
          wageTitle: '正確な給与計算機',
          wageDesc: 'オーストラリア公正労働委員会の基準で正確な給与を計算',
          visaTitle: 'ビザ延長トラッカー',
          visaDesc: 'ビザ延長のための88日間の労働を追跡',
          communityTitle: 'グローバルコミュニティ',
          communityDesc: '世界中のワーキングホリデーメーカーと交流',
        },
      },
      // Authentication
      auth: {
        signInWithGoogle: 'Googleでログイン',
        signOut: 'ログアウト',
        welcome: 'ようこそ',
        pleaseSignIn: '続行するにはログインしてください',
        setupNickname: 'ニックネーム設定',
        nicknameLabel: 'ニックネームを選択',
        nicknamePlaceholder: 'ニックネームを入力',
        nicknameRequired: 'ニックネームが必要です',
        completeSetup: '設定完了',
      },
      // Wage Calculator
      wage: {
        title: '給与計算機',
        quickCheck: 'クイック給与チェック',
        detailedCalculation: '詳細計算',
        hourlyRate: '時給',
        hoursPerDay: '1日の労働時間',
        daysPerWeek: '週の労働日数',
        industry: '業種',
        location: '地域（郵便番号）',
        paymentDay: '給与支払日',
        rankingConsent: 'ランキング公開同意',
        calculate: '計算する',
        grossPay: '総支給額',
        netPay: '手取り額',
        weeklyGross: '週給（総額）',
        weeklyNet: '週給（手取り）',
        results: '計算結果',
        registerForMore: '詳細な追跡と管理のために登録してください',
      },
      // Visa Calculator
      visa: {
        title: 'ビザ延長計算機',
        daysWorked: '労働日数',
        remainingDays: '残り日数',
        eligibleForExtension: '延長可能',
        trackProgress: '進捗を追跡',
        addWorkEntry: '労働記録を追加',
        workHistory: '労働履歴',
        startDate: '開始日',
        endDate: '終了日',
        hoursPerWeek: '週労働時間',
        employer: '雇用主',
        progress: '{{completed}} / {{required}}日完了',
      },
      // Community
      community: {
        title: 'コミュニティ',
        country: '国',
        korea: '韓国',
        japan: '日本',
        taiwan: '台湾',
        createPost: '投稿作成',
        postTitle: 'タイトル',
        postContent: '内容',
        posts: '投稿',
        comments: 'コメント',
        likes: 'いいね',
        reply: '返信',
      },
      // Profile
      profile: {
        title: 'プロフィール',
        personalInfo: '個人情報',
        nickname: 'ニックネーム',
        country: '国',
        visaType: 'ビザタイプ',
        wageProfiles: '給与プロフィール',
        totalEarnings: '総収入',
        privacySettings: 'プライバシー設定',
        showInRankings: 'ランキング表示',
        language: '言語',
      },
      // Language selection
      language: {
        title: '言語選択',
        description: 'ブラウザの言語が{{language}}に検出されました。切り替えますか？',
        switchTo: '{{language}}に切り替え',
        keepEnglish: '英語を維持',
        english: 'English',
        korean: '한국어',
        japanese: '日本語',
      },
    },
  },
};

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: 'en',
    debug: process.env.NODE_ENV === 'development',
    
    detection: {
      order: ['localStorage', 'navigator', 'htmlTag'],
      caches: ['localStorage'],
    },

    interpolation: {
      escapeValue: false, // React는 XSS로부터 안전합니다
    },

    react: {
      useSuspense: false,
    },
  });

export default i18n; 